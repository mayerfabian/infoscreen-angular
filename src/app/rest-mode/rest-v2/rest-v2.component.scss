:host { display:block; width:100%; height:100%; }

/* außen (screen-content) hat seitlich 0 → wir geben top/bottom Luft */
.restv2-content{
  height:100%; min-height:0; overflow:hidden;
  padding: 1.25rem 0;
}

/* Variablen */
:host{
  --side-gutter: 1.25rem; /* Seiten-Gutter der ganzen Komponente */
  --side-gap: 16px;       /* sichtbarer Abstand links/rechts pro Karte (Carousel) */
  --grid-gap: 16px;       /* Abstand zwischen Karten, wenn ≤2 Einsätze (Grid) */
  --panel-radius: 16px;
  --danger: #e53935;
  --danger-ink: #fff;
}

/* ===== Single (kein Carousel) ===== */
.restv2-single{
  height:100%;
  padding-inline: var(--side-gutter);
  display:flex; align-items:stretch;
}
.restv2-single > .restv2-card{
  flex:1 1 auto;
  width: 100%;            /* Single vollbreit */
  margin: 0;              /* kein Auto-Centering in Single */
}

/* ===== Panel / Karte ===== */
.restv2-card{
  display:flex; flex-direction:column;
  min-height:420px; height:100%;
  border-radius: var(--panel-radius);
  overflow:hidden; background-clip:padding-box; isolation:isolate;
  background:linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02));
  border:1px solid rgba(255,255,255,0.08);
  box-shadow:0 10px 30px rgba(0,0,0,0.35), inset 0 1px 0 rgba(255,255,255,0.04);
  color:#e9ecef;

  /* Abstand entsteht durch schmalere Karte, nicht durch Slide-Padding/Margins */
  width: calc(100% - 2 * var(--side-gap));
  margin: 0 auto; /* Karte mittig im Slide */
}

/* Header – etwas größer */
.restv2-card__header{
  padding:14px 16px; border-bottom:1px solid rgba(255,255,255,0.08);
  background:rgba(0,0,0,0.15); backdrop-filter:blur(4px);
}
.restv2-card__title{ display:flex; align-items:baseline; gap:12px; margin-bottom:4px; }
.restv2-card__einsatznr{ font-weight:800; font-size:20px; color:#fff; letter-spacing:.2px; }
.restv2-card__alarmstufe{ font-weight:600; font-size:16px; color:#cfd6e4; }
.restv2-card__subtitle{
  display:flex; align-items:center; justify-content:space-between; gap:12px;
  font-size:14px; color:rgba(255,255,255,0.78);
}

/* Body */
.restv2-card__body{
  display:flex; flex-direction:column; gap:12px;
  padding:14px 16px 16px 16px; min-height:0; flex:1 1 auto; overflow:hidden;
}
.restv2-card__grund{ font-size:16px; font-weight:600; color:#e9ecef; }

/* Tagebuch: 2 Spalten stabil */
.restv2-logcols{
  height:100%; min-height:0;
  column-count: 2; column-gap: 14px; column-fill: auto; overflow:hidden;
}
.restv2-logitem--column{ display:inline-block; width:100%; break-inside:avoid; margin-bottom:10px; }
.restv2-logitem{
  background:rgba(255,255,255,0.03); border:1px solid rgba(255,255,255,0.08);
  border-radius:12px; padding:10px 12px;
}
.restv2-logitem__head{ display:flex; align-items:center; justify-content:space-between; gap:8px; margin-bottom:6px; }
.restv2-chip{ display:inline-block; padding:4px 9px; font-size:13px; border-radius:999px;
  background:rgba(138,180,255,0.12); color:#8ab4ff; border:1px solid rgba(138,180,255,0.35);
}
.restv2-time{ font-size:12.5px; color:rgba(255,255,255,0.75); }
.restv2-logitem__text{ font-size:14px; color:#e9ecef; white-space:pre-wrap; word-break:break-word; }
.restv2-fzg{ font-weight:700; margin-right:6px; color:#cfe1ff; }
.restv2-author{ margin-left:6px; color:rgba(255,255,255,0.72); }

/* Tagebuch leer */
.restv2-logempty{
  display:flex; align-items:center; justify-content:center;
  min-height:120px;
  border:1px dashed rgba(255,255,255,0.2);
  border-radius:12px;
  font-size:14px; color:rgba(255,255,255,0.75);
}

/* Footer – Fahrzeug-Buttons + Fallback */
.restv2-card__footer{
  border-top: 1px solid rgba(255,255,255,0.08);
  background: rgba(0,0,0,0.12);
  padding: 10px 10px;
}

.no-fzg-badge{
  width:100%;
  text-align:center;
  padding:12px 14px;
  border-radius:12px;
  background: var(--danger);
  color: var(--danger-ink);
  font-weight:800;
  letter-spacing:.3px;
  text-transform: none;
}

.vbtn-row{
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(0, 1fr));
  gap: 8px;
}
.vbtn{
  appearance:none; border:0; width:100%;
  padding:10px 12px; border-radius:12px; color:#fff; text-align:center; cursor:default;
  display:flex; flex-direction:column; align-items:center; gap:6px;
  box-shadow: inset 0 0 0 1px rgba(0,0,0,0.10);
}
.vbtn__name{ font-weight:900; font-size:18px; line-height:1.1; letter-spacing:.2px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.vbtn__meta{ font-size:14px; line-height:1.15; opacity:.98; white-space:nowrap; }

.vbtn-ok { background:#00c853; }
.vbtn-bad{ background:var(--danger); }

/* ===== Grid-Layout für ≤2 Einsätze ===== */
.restv2-grid{
  display:flex; flex-wrap:wrap; align-items:stretch; height:100%;
  padding-inline: var(--side-gutter);
  gap: var(--grid-gap);
}

/* ===== Carousel: 1 Karte pro Slide ===== */
.restv2-carousel{
  position:relative; width:100%; height:100%; overflow:hidden; /* außen clippen */
  padding-inline: var(--side-gutter); /* globaler Seitengutter */
}
.restv2-track{
  display:flex; height:100%;
  will-change: transform;
  overflow: visible; /* Schatten dürfen über Track hinausragen */
}
.restv2-slide{
  flex: 0 0 100%;
  min-width: 0;
  padding-inline: 0;    /* wichtig: kein Slide-Padding → 1 Slide = 100% */
  box-sizing: border-box;
}

/* Leerer-State ganz oben */
.restv2-empty{
  height:100%; display:grid; place-items:center;
  font-size:16px; color:rgba(255,255,255,0.75);
}

/* ===== History (wenn keine offenen Einsätze) ===== */
.history-list{ display:flex; flex-direction:column; gap:14px; }
.history-row{
  display:grid; grid-template-columns: 8vh 1fr 1fr;
  align-items:center; gap:16px;
  padding:16px 18px; border-radius:16px;
  background:rgba(255,255,255,0.03); border:1px solid rgba(255,255,255,0.08);
}
.hbadge{
  display:inline-flex; align-items:center; justify-content:center;
  width:8vh; height:8vh; border-radius:1.6vh; font-weight:900; color:#fff; font-size:calc(8vh * 0.48); letter-spacing:.6px;
}
.history-left{ min-width:0; }
.history-right{ display:flex; flex-direction:column; align-items:flex-end; gap:2px; }
.history-date{ font-size:2.4vh; font-weight:800; color:#e9ecef; white-space:nowrap; }
.history-clock{ font-size:2.2vh; font-weight:800; color:rgba(255,255,255,0.9); white-space:nowrap; }
.hbadge-b{ background:#e53935; }
.hbadge-t{ background:#1976d2; }
.hbadge-s{ background:#f6b822; color:#000; }
.hbadge-x{ background:#6c757d; }
.history-ort{ font-size:2.2vh; color:#cfe1ff; font-weight:800; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }
.history-grund{ font-size:2vh; color:#e9ecef; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; opacity:.98; }

/* History full-height container (no panel wrapper) */
.restv2-history{
  height:100%; min-height:0; position:relative; padding-inline: var(--side-gutter);
  display:flex; flex-direction:column;
}
.history-scroll{
  position:relative; height:100%; min-height:0; overflow:auto; padding-bottom: 6vh;
  /* Fade-out am unteren Rand (ohne Tint) */
  -webkit-mask-image: linear-gradient(to bottom, rgba(0,0,0,1) 0%, rgba(0,0,0,1) calc(100% - 8vh), rgba(0,0,0,0) 100%);
          mask-image: linear-gradient(to bottom, rgba(0,0,0,1) 0%, rgba(0,0,0,1) calc(100% - 8vh), rgba(0,0,0,0) 100%);
  /* Scrollbar optisch verbergen */
  scrollbar-width: none;        /* Firefox */
  -ms-overflow-style: none;     /* IE/Edge */
  overscroll-behavior: contain; /* kein Outer-Scroll-Chaining */
}
.history-scroll::-webkit-scrollbar{ display:none; width:0; height:0; }

/* Status-Badges (kompakt) */
.sbadge-row{ display:grid; grid-template-columns: repeat(7, minmax(0,1fr)); gap:8px; margin-top:10px; }
.sbadge{ text-align:center; padding:10px 8px; border-radius:10px; font-weight:800; letter-spacing:.2px; }
.sbadge.ok{ background:#00c853; color:#fff; }
.sbadge.bad{ background:var(--danger); color:var(--danger-ink); }

.sbadge-row--flat{ margin-top:6px; }
.sbadge--flat{ padding:4px 6px; border-radius:8px; font-weight:700; font-size:0.95rem; line-height:1.1; }
